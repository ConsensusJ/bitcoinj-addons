def springVersion = "4.1.0.RC2"
def springSecurityVersion = "3.2.5.RELEASE"

buildscript {
    ext {
        springBootVersion = '1.1.4.RELEASE'
    }
    repositories {
        jcenter()
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}

apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'spring-boot'

archivesBaseName = 'peerlist'
version =  '0.1'

repositories {
    jcenter()
}

dependencies {
    compile "org.springframework:spring-websocket:${springVersion}"
    compile ("org.springframework:spring-messaging:${springVersion}") {
        dependencies {
            ext.reactorVersion = '1.0.0.RELEASE'
            compile "org.projectreactor:reactor-tcp:$reactorVersion"
        }
    }

    compile "org.springframework.boot:spring-boot-starter-web:${springBootVersion}"
    compile "org.springframework.boot:spring-boot-starter-websocket:${springBootVersion}"
    compile "org.springframework.boot:spring-boot-starter-security:${springBootVersion}"

    compile "org.springframework.security:spring-security-core:${springSecurityVersion}"
    compile "org.springframework.security:spring-security-config:${springSecurityVersion}"
    compile "org.springframework.security:spring-security-web:${springSecurityVersion}"

    compile "org.bitcoinj:bitcoinj-core:0.12.1"
    testCompile("junit:junit:4.11")
}

springBoot {
    mainClass = "com.msgilligan.peerlist.config.Application"
    backupSource = true
}

def springBootWarLauncherClassName = "org.springframework.boot.loader.WarLauncher"
